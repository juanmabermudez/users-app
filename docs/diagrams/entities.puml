<<<<<<< HEAD
@startuml

' Definición de entidades
rectangle "User\n(usuario)" as User
rectangle "Route\n(trayecto)" as Route
rectangle "Post\n(publicación)" as Post
rectangle "Offer\n(oferta)" as Offer
rectangle "Score\n(utilidad)" as Score

' Relaciones y cardinalidades
Post -up-> "1" User
Post -right-> "1" Route
Offer "*" -left-> "1" Post
Offer --> "1" Score
=======
@startuml entities

entity "users" as users {
  + id: string <<PK>>
  username: string <<unique>>
  email: string <<unique>>
  password: string
  salt: string
  token: string
  status: string {POR_VERIFICAR, NO_VERIFICADO, VERIFICADO}
  fullName: string
  phoneNumber: string
  dni: string
  expireAt: datetime
  createdAt: datetime
  updatedAt: datetime
}

entity "posts" as posts {
  + id: string <<PK>>
}
!theme plain

title Modelo de Entidades del Sistema

entity "User (usuario)" as User {
  + id: string <<PK>>
  --
  username: string <<unique>>
  email: string <<unique>>
  password: string
  salt: string
  token: string
  status: string {POR_VERIFICAR, NO_VERIFICADO, VERIFICADO}
  fullName: string
  phoneNumber: string
  dni: string
  --
  expireAt: datetime
  createdAt: datetime
  updatedAt: datetime
}

entity "Route (trayecto)" as Route {
 + id: string <<PK>>
 --
 flightId: string <<unique>>
 sourceAirportCode: string
 sourceCountry: string
 destinyAirportCode: string
 destinyCountry: string
 bagCost: number
 plannedStartDate: datetime
 plannedEndDate: datetime
 --
 createdAt: datetime
 updatedAt: datetime
}

entity "Post (publicación)" as Post {
 + id: string <<PK>>
 --
 # routeId: string <<FK>>
 # userId: string <<FK>>
 expireAt: datetime
 --
 createdAt: datetime
}

entity "Offer (oferta)" as Offer {
 + id: string <<PK>>
 --
 # postId: string <<FK>>
 # userId: string <<FK>>
 description: string
 size: string {LARGE, MEDIUM, SMALL}
 fragile: boolean
 offer: number
 --
 createdAt: datetime
}

entity "Score (utilidad)" as Score {
    'La entidad Score se omite en esta entrega'
}

User "1" -- "1" Post
Post "1" -- "1" Route
Post "1" -- "*" Offer
Offer "1" -- "1" Score
>>>>>>> main

@enduml
